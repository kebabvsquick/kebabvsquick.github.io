function preload(){game.load.spritesheet("chun-li","assets/dude.png",32,48),game.load.image("background","assets/bg.jpg"),game.load.image("ball","assets/ball-hd.png"),game.load.image("sauce","assets/sauce.png"),game.load.image("net","assets/net.jpg"),game.load.spritesheet("kebab","assets/kebabsprite.png",195,147),game.load.spritesheet("burger","assets/hambagu-sprite.png",450,400),game.load.image("fork","assets/foork.png")}function create(){bg=game.add.sprite(0,0,"background"),bg.scale.x=2,game.physics.startSystem(Phaser.Physics.ARCADE),ground=game.add.sprite(0,game.world.height-1),game.physics.arcade.enable(ground),ground.enableBody=!0,ground.body.immovable=!0,ground.body.setSize(game.world.width,game.world.height),player=game.add.sprite(0,0,"kebab"),player.animation=1,game.physics.arcade.enable(player),player.enableBody=!0,player.body.gravity.y=300,player.body.collideWorldBounds=!0,player.body.setSize(170,82,20,50),player.score=0,player.scale.x=.8,player.scale.y=.8,player2=game.add.sprite(game.world.width,0,"burger"),player2.scale.x=.35,player2.scale.y=.35,game.physics.arcade.enable(player2),player2.enableBody=!0,player2.body.bounce.y=.2,player2.body.gravity.y=300,player2.body.collideWorldBounds=!0,player2.body.setSize(310,250,10,50),player2.score=0,hitbox=game.add.sprite(0,0,null),game.physics.enable(hitbox,Phaser.Physics.ARCADE),hitbox.body.setSize(200,60,-10,30),hitbox2=game.add.sprite(0,0,null),game.physics.enable(hitbox2,Phaser.Physics.ARCADE),hitbox2.body.setSize(170,90,-25,50),player.addChild(hitbox),player2.addChild(hitbox2),ball=game.add.sprite(50,50,"sauce"),ball.scale.x=.3,ball.scale.y=.3,game.physics.arcade.enable(ball),ball.body.collideWorldBounds=!0,ball.body.bounce.x=.9,ball.body.bounce.y=.9,ball.body.gravity.y=100,ball.body.friction.x=50,ball.body.friction.y=50,ball.body.setSize(275,210,20,30),net=game.add.sprite(game.world.width/2,310,"fork"),net.scale.x=.32,net.scale.y=.32,game.physics.arcade.enable(net),net.body.immovable=!0,net.body.setSize(70,590,10),hitboxNet=game.add.sprite(0,0,null),game.physics.enable(hitboxNet,Phaser.Physics.ARCADE),hitboxNet.body.setSize(22,game.world.height,10,-game.world.height),hitboxNet.body.immovable=!0,net.addChild(hitboxNet),player2.animations.add("jump",[1],!0),player2.animations.add("move",[0],!0),player.animations.add("smash",[0],!0),player.animations.add("move",[1],!0),cursors=game.input.keyboard.createCursorKeys(),player.animations.play("move"),player2.animations.play("move");var e={font:"64px Arial",fill:"#ff0044"};score1=game.add.text(30,50,"0",e),score2=game.add.text(game.world.width-50,50,"0",e),timer=game.time.create(!1),timer.loop(1200,restart,game),compteurFrame=0,player.y=200,player2.y=200,player2.x=game.world.width}function moveAI(){player2.body.velocity.x=0,ball.x>=game.world.width/2?(lastPos=player2.x,compteurFrame=0,monter=Math.round(249*Math.random())%5==0,smash=Math.round(11*Math.random())%3==0,ball.x<player2.x&&(player2.body.velocity.x=-200),ball.x>player2.x&&(player2.body.velocity.x=200),ball.y>game.world.height/3&&player2.body.touching.down&&monter&&(player2.body.velocity.y=-200),smash&&!player2.body.touching.down&&ballInsideHitbox2&&2*!player2.y>3*game.world.height/4&&(ball.body.velocity.x=2*player.body.velocity.x-100,ball.body.velocity.y=-700)):0==compteurFrame?(compteurFrame=Math.round(24*Math.random())+13,monter=Math.round(249*Math.random())%5==0,gauche=Math.round(36*Math.random())%5==0):(monter&&player2.body.touching.down&&(player2.body.velocity.y=-200),player2.body.velocity.x=gauche?250:-250,compteurFrame--)}function restart(){player.x=0,player.y=0,player2.x=game.world.width,player2.y=0,game.time.slowMotion=1,timer.stop(!1),ball.x=100,ball.body.velocity.x=0,ball.body.velocity.y=0,ball.y=0,player.animations.play("move")}function onCollide(e,a){e.body.touching.down&&(e.body.velocity.y=-350,e.body.velocity.x=a.body.velocity.x,0==e.body.velocity.x&&(e.body.velocity.x=-Math.round(30*Math.random())))}function avoidCollide(){}function update(){ballInsideHitbox2=!1,player.animations.play("move"),game.physics.arcade.collide(player,ground),game.physics.arcade.collide(player2,ground),game.physics.arcade.collide(ball,ground,function(e){if(e.body.touching.down){var a,o;e.x>game.world.width/2?(a=score1,o=player):(o=player2,a=score2),game.time.slowMotion=5,ball.body.velocity.y=-1e3,o.score++,a.text=""+o.score,timer.start()}},null,game),game.physics.arcade.collide(net,ball),game.physics.arcade.collide(ball,player,onCollide),game.physics.arcade.collide(ball,player2,onCollide),game.physics.arcade.collide(net,player2,function(e){return e.body.touching.up}),game.physics.arcade.collide(net,player,function(e,a){return a.body.touching.up}),game.physics.arcade.collide(hitboxNet,player),game.physics.arcade.collide(hitboxNet,player2),game.physics.arcade.overlap(hitbox,ball,function(e){game.input.keyboard.isDown(Phaser.Keyboard.SPACEBAR)&&(e.body.touching.down||(e.direction?(ball.body.velocity.x=-500,ball.body.velocity.y=700):(ball.body.velocity.x=500,ball.body.velocity.y=700)))},null,game),game.physics.arcade.overlap(hitbox2,ball,function(){ballInsideHitbox2=!0},null,game),player.body.velocity.x=0,cursors.left.isDown?player.body.touching.down&&game.input.keyboard.isDown(Phaser.Keyboard.SPACEBAR)?(player.body.velocity.x=-500,player.direction=!1):(player.body.velocity.x=-150,player.direction=!1):cursors.right.isDown&&(player.body.touching.down&&game.input.keyboard.isDown(Phaser.Keyboard.SPACEBAR)?(player.body.velocity.x=500,player.direction=!0):(player.body.velocity.x=150,player.direction=!0)),cursors.up.isDown&&player.body.touching.down&&(player.body.velocity.y=-350),game.input.keyboard.isDown(Phaser.Keyboard.SPACEBAR)&&player.animations.play("smash"),moveAI()}function render(){}var PikaVolley=PikaVolley||{},game=new Phaser.Game(1e3,500,Phaser.AUTO,"",{preload:preload,create:create,update:update,render:render}),gauche=!1,monter=!1,mobile=!1,lastPos;
